<!DOCTYPE html>
<html>
<!-- 
I fucking suck at making websites so everything here is hanging together with duck tape and nails, this is the first time I've done anything in html since high school

I legit only know how half of this works

If you wonder why I did something one way instead of the other it's probably because I don't know how to do it properly

Anyway stop looking at my shitty code
-->
<head>
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
  <meta charset="UTF-8">
  <title>Bonepill</title>
  <style>
    body {
      background-color:#1e1e1e;
      font-family: "Courier New", Courier, monospace;
      color: #d4d4d4
    }
    
    .container {
      background-color:#1e1e1e;
      width: 1280px;
      margin: 0 auto;
      text-align: left;
    }
    
    h1 {
      text-align: center;
    }

    h2 {
      text-align: center;
      font-size: 20px
    }

    h3 {
      text-align: justify;
      font-size: 15px
    }

    table{
      text-align: center;
    }

    th {
      font-size: 20px;
      width: 320px;
    }

    td {
      font-size: 13px
    }

    * {
      box-sizing: border-box;
    }
    .column {
      float: left;
      padding: 12px;
    }

    .left {
      width: 25%;
    }

    .right {
      width: 75%;
    }

    /* Clear floats after the columns */
    .row:after {
      content: "";
      display: table;
      clear: both;
    }

    a:link, a:visited {
      color: #aaaaaa;
      background-color: transparent;
      text-decoration: none;
      text-decoration: underline;
    }

    a:hover, a:active {
      color: #838383;
      background-color: transparent;
      text-decoration: underline;
    }

    input:focus{
      background-color:#353535;
      border: 1px solid #d4d4d4;
      outline: none;
    }
    
    input{
      width: 300px;
      background-color:#1e1e1e;
      border: 1px solid #d4d4d4;
      color: #d4d4d4;
      right: 100%;
      float: right;
      padding: 2px 2px;
      font-size: 15px
    }

    button{
      width: 300px;
      background-color:#1e1e1e;
      border: 1px solid #d4d4d4;
      color: #d4d4d4;
      float: right
    }
    button:hover{
      background-color:#353535;
      border: 1px solid #d4d4d4;
      outline: none;
    }

</style>
      </style>

  <py-config>
    packages = ["matplotlib","scipy", "seaborn", 'numpy']
    [[fetch]]
      files = [ 'tt.py', 'ansur_functions.py', 'ansur2_female.csv', 'ansur2_male.csv', 'layer.py']
</py-config>

<script>
  function clearcontent(elementID) {
      document.getElementById(elementID).innerHTML = "";
  }
</script>

</head>



<body>

  <py-script>

    from pyodide import create_proxy
    from js import console
    import layer                                 
    import matplotlib as plt
    plt.rcParams.update({'figure.max_open_warning': 0})

    x= 0
    y = 0
    mx = 'height'
    my = 'bideltoid shoulder breadth'
    g = 'mf'
    u = 'in'
    display(layer.layer(mx, my, x, y, g, u), target = "graph-area", append=False)

    def dis():
    
      x = Element('ix').element.value
      if len(x) == 0:
        x=float(0)
      x = float(x)
      
      y = Element('iy').element.value
      if len(y) == 0:
        y=float(0)
      y = float(y)

      mx = str(Element('mx').element.value)
      my = str(Element('my').element.value)

      g = str(Element('gender').element.value)
      if len(g) == 0:
        g='mf'

      u = str(Element('units').element.value)
      if len(u) == 0:
        u = 'in'

      g = g.lower()
      u = u.lower()

      display(layer.layer(mx, my, x, y, g, u), target = "graph-area")
  </py-script>



  <div class="container">
    <h1>Anthropometric Measurements (Bonepill website)</h1>
    <h3>New and improved Bonepill website! Now you can get bonepilled with a better UI, new features, and more! This website is a knockoff of <a href="https://sodadreama.github.io/ansur.html">this site</a> which is based on <a href="https://anthro.cs.uni-freiburg.de/#col">this site</a> but I made it look cooler and added the ability to see how many standard deviations you are from the normal, as well as the percentile conversion. It also supports both imperial (inches) and metric (centimeters).<br><br>
    
    Intructions: Enter the two measurements you would like to compare, then enter your values for those two measurements. What the site does is graph the data from 1987 women and 4083 men onto two axes, each correpsonding to a measurement. Pink dots are women, blue dots are men, and the bands represent +- 1 standard deviation for each gender. There is a drop down menu for the measurements that autocompletes as you type. Below, you can enter your value for the measurement on the x axis and your value for the measurement on the y axis. For the "Genders to show" option, you can either leave it blank (which defaults to showing for male and female) or type "m" to show just male, "f" to show just female, of "mf" to show both male and female datapoints. For units, you can enter either "in" for inches or "cm" for centimeters. If you leave it blank it defaults to inches.<br><br>
  


      </h3>
    <div class="row">

      
      <div class="column left">
        <h2>Input measurements</h2>
        <p>Make sure you have the spelling right, if you mispell something the chart won't show. Scroll down to see the full list of measurements.<br><br>TIP: Always click on the drop down of the measurement you want to use, that way you can guarantee that it is spelled right.<br><br>

          <datalist id="bonepillmeasurements"> 
            <option value="Abdominal Extension Depth Sitting">
            <option value="Acromial Height">
            <option value="Acromion Radiale Length">
            <option value="Ankle Circumference">
            <option value="Axilla Height">
            <option value="Ball of Foot Circumference">
            <option value="Ball of Foot Length">
            <option value="Biacromial Shoulder Breadth">
            <option value="Biceps Circumference, Flexed">
            <option value="Bicristal Hip Breadth">
            <option value="Bideltoid Shoulder Breadth">
            <option value="Bimalleolar Ankle Breadth">
            <option value="Bitragion Chin Arc">
            <option value="Bitragion Submandibular Arc">
            <option value="Bizygomatic Breadth">
            <option value="Buttocks Circumference">
            <option value="Buttocks Depth">
            <option value="Buttocks Height">
            <option value="Buttocks Knee Length">
            <option value="Buttocks Popliteal Length">
            <option value="Calf Circumference">
            <option value="Cervicale Height">
            <option value="Chest Breadth">
            <option value="Chest Circumference">
            <option value="Chest Depth">
            <option value="Chest Height">
            <option value="Crotch Height">
            <option value="Crotch Length Omphalion">
            <option value="Crotch Length Posterior Omphalion">
            <option value="Ear Breadth">
            <option value="Ear Length">
            <option value="Ear Protrusion">
            <option value="Elbow Rest Height">
            <option value="Eye Height Sitting">
            <option value="Foot Breadth Horizontal">
            <option value="Foot Length">
            <option value="Forearm Center of Grip Length">
            <option value="Forearm Circumference Flexed">
            <option value="Forearm-Forearm Breadth">
            <option value="Forearm Hand Length">
            <option value="Functional Leg Length">
            <option value="Hand Breadth">
            <option value="Hand Circumference">
            <option value="Hand Length">
            <option value="Head Breadth">
            <option value="Head Circumference">
            <option value="Head Length">
            <option value="Heel Ankle Circumference">
            <option value="Heel Breadth">
            <option value="Hip Breadth">
            <option value="Hip Breadth Sitting">
            <option value="Iliocristale Height">
            <option value="Interpupillary Breadth">
            <option value="Interscye 1">
            <option value="Interscye 2">
            <option value="Knee Height Mid Patella">
            <option value="Knee Height Sitting">
            <option value="Lateral Femoral Epicondyle Height">
            <option value="Lateral Malleolus Height">
            <option value="Lower Thigh Circumference">
            <option value="Menton Sellion Length">
            <option value="Neck Circumference">
            <option value="Neck Circumference Base">
            <option value="Overhead Fingertip Reach Sitting">
            <option value="Palm Length">
            <option value="Popliteal Height">
            <option value="Radiale Stylion Length">
            <option value="Shoulder Circumference">
            <option value="Shoulder Elbow Length">
            <option value="Shoulder Length">
            <option value="Sitting Height">
            <option value="Sleeve Length Spine Wrist">
            <option value="Sleeve Outseam">
            <option value="Wingspan">
            <option value="Height">
            <option value="Suprasternale Height">
            <option value="Tenth Rib Height">
            <option value="Thigh Circumference">
            <option value="Thigh Clearance">
            <option value="Thumbtip Reach">
            <option value="Tibial Height">
            <option value="Tragion Top of Head">
            <option value="Trochanterion Height">
            <option value="Waist Back Length">
            <option value="Waist Breadth">
            <option value="Waist Circumference">
            <option value="Waist Depth">
            <option value="Waist Front Length Sitting">
            <option value="Waist Height Omphalion">
            <option value="Wrist Circumference">
            <option value="Wrist Height">
            <option value="Weight (kg)"></option>
          </datalist>

          <input list="bonepillmeasurements" type="text" id="mx"placeholder="Measurement on X axis"></input><br><br>
          <input list="bonepillmeasurements" type="text" id="my"placeholder="Measurement on Y axis"></input><br><br>
          <input type="text" id="ix" placeholder="X value"></input><br><br>
          <input type="text" id="iy" placeholder="Y value"></input><br><br>
          <input type="text" id="gender" placeholder="Genders to Show (m/f/mf)"></input><br><br>
          <input type="text" id="units" placeholder="Units (in/cm)"></input><br><br>
          <button id="test" type="button" onclick = "clearcontent('graph-area')" py-onClick="dis()">Click to Graph</button>
          <br>
      </div>
      <div class="column right">
        <div id="graph-area"></div>
      </div>
    </div>
    <h2>
      
      <br><br><br><br>
      <h1>
      Full Measurement List
      </h1>
      <h2>
        <a href="http://tools.openlab.psu.edu/publicData/ANSURII-TR15-007.pdf">Click for the ANSUR 2 servey info (you can find measurement intructions and info here)</a>
      </h2>

      <table class="table table-bordered table-hover table-condensed">
        <thead><tr>
        <th title="Field #1">Full Body Measurements</th>
        <th title="Field #2">Chest/Back Measurements</th>
        <th title="Field #3">Hip Measurements</th>
        <th title="Field #4">Hand/Wrist Measurements</th>
        </tr></thead>
        <tbody><tr>
        <td>Height</td>
        <td>Chest Breadth</td>
        <td>Buttocks Circumference</td>
        <td>Wrist Circumference</td>
        </tr>
        <tr>
        <td>Wingspan</td>
        <td>Chest Circumference</td>
        <td>Buttocks Depth</td>
        <td>Wrist Height</td>
        </tr>
        <tr>
        <td>Weight (kg)</td>
        <td>Chest Depth</td>
        <td>Buttocks Height</td>
        <td>Hand Breadth</td>
        </tr>
        <tr>
        <td>Sitting Height</td>
        <td>Chest Height</td>
        <td>Hip Breadth</td>
        <td>Hand Circumference</td>
        </tr>
        <tr>
        <td>Thumbtip Reach</td>
        <td>Interscye 1</td>
        <td>Hip Breadth Sitting</td>
        <td>Hand Length</td>
        </tr>
        <tr>
        <td>Overhead Fingertip Reach Sitting</td>
        <td>Interscye 2</td>
        <td>Bicristal Hip Breadth</td>
        <td>Palm Length</td>
        </tr>
        </tbody></table>

        <br><br>

      <table class="table table-bordered table-hover table-condensed">
        <thead><tr><th title="Field #1">Waist measurements</th>
        <th title="Field #2">Shoulder Measurements</th>
        <th title="Field #3">Arm Measurements</th>
        <th title="Field #4">Leg Measurements</th>
        </tr></thead>
        <tbody><tr>
        <td>Waist Breadth</td>
        <td>Biacromial Shoulder Breadth</td>
        <td>Biceps Circumference, Flexed</td>
        <td>Calf Circumference</td>
        </tr>
        <tr>
        <td>Waist Circumference</td>
        <td>Bideltoid Shoulder Breadth</td>
        <td>Forearm Circumference Flexed</td>
        <td>Thigh Circumference</td>
        </tr>
        <tr>
        <td>Waist Depth</td>
        <td>Shoulder Circumference</td>
        <td>Forearm-Forearm Breadth</td>
        <td>Lower Thigh Circumference</td>
        </tr>
        <tr>
        <td>Abdominal Extension Depth Sitting</td>
        <td>Shoulder Length</td>
        <td> </td>
        <td>Functional Leg Length</td>
        </tr>
        </tbody></table>

        <br><br>

      <table class="table table-bordered table-hover table-condensed">
        <thead><tr><th title="Field #1">Head/Neck Measurements</th>
        <th title="Field #2">Foot/Ankle Measurements</th>
        <th title="Field #3">Landmark Heights</th>
        <th title="Field #4">Proportion Lengths</th>
        </tr></thead>
        <tbody><tr>
        <td>Head Breadth</td>
        <td>Ankle Circumference</td>
        <td>Acromial Height</td>
        <td>Acromion Radiale Length</td>
        </tr>
        <tr>
        <td>Head Circumference</td>
        <td>Bimalleolar Ankle Breadth</td>
        <td>Axilla Height</td>
        <td>Buttocks Knee Length</td>
        </tr>
        <tr>
        <td>Head Length</td>
        <td>Ball of Foot Circumference</td>
        <td>Cervicale Height</td>
        <td>Buttocks Popliteal Length</td>
        </tr>
        <tr>
        <td>Bizygomatic Breadth</td>
        <td>Ball of Foot Length</td>
        <td>Crotch Height</td>
        <td>Crotch Length Omphalion</td>
        </tr>
        <tr>
        <td>Neck Circumference</td>
        <td>Foot Breadth Horizontal</td>
        <td>Elbow Rest Height</td>
        <td>Crotch Length Posterior Omphalion</td>
        </tr>
        <tr>
        <td>Neck Circumference Base</td>
        <td>Foot Length</td>
        <td>Eye Height Sitting</td>
        <td>Forearm Center of Grip Length</td>
        </tr>
        <tr>
        <td>Bitragion Chin Arc</td>
        <td>Heel Ankle Circumference</td>
        <td>Iliocristale Height</td>
        <td>Forearm Hand Length</td>
        </tr>
        <tr>
        <td>Bitragion Submandibular Arc</td>
        <td>Heel Breadth</td>
        <td>Knee Height Mid Patella</td>
        <td>Menton Sellion Length</td>
        </tr>
        <tr>
        <td>Tragion Top of Head</td>
        <td> </td>
        <td>Knee Height Sitting</td>
        <td>Radiale Stylion Length</td>
        </tr>
        <tr>
        <td>Ear Breadth</td>
        <td> </td>
        <td>Lateral Femoral Epicondyle Height</td>
        <td>Shoulder Elbow Length</td>
        </tr>
        <tr>
        <td>Ear Length</td>
        <td> </td>
        <td>Lateral Malleolus Height</td>
        <td>Sleeve Length Spine Wrist</td>
        </tr>
        <tr>
        <td>Ear Protrusion</td>
        <td> </td>
        <td>Popliteal Height</td>
        <td>Sleeve Outseam</td>
        </tr>
        <tr>
        <td>Interpupillary Breadth</td>
        <td> </td>
        <td>Suprasternale Height</td>
        <td>Waist Back Length</td>
        </tr>
        <tr>
        <td> </td>
        <td> </td>
        <td>Tenth Rib Height</td>
        <td>Waist Front Length Sitting</td>
        </tr>
        <tr>
        <td> </td>
        <td> </td>
        <td>Thigh Clearance</td>
        <td> </td>
        </tr>
        <tr>
        <td> </td>
        <td> </td>
        <td>Tibial Height</td>
        <td> </td>
        </tr>
        <tr>
        <td> </td>
        <td> </td>
        <td>Trochanterion Height</td>
        <td> </td>
        </tr>
        <tr>
        <td> </td>
        <td> </td>
        <td>Waist Height Omphalion</td>
        <td> </td>
        </tr>
        </tbody></table>

    </h2>
  </div>


<!-- 
targets (start - goal):

waist 28 - 28

hip circ 38 - 42.5
hip breadth 14.5 - 15.5

shoulder circ 43 - 41.5
bideltoid shoulder 18 - 17

underbust 32.5 - 32
-->


</body>
  
</html>
